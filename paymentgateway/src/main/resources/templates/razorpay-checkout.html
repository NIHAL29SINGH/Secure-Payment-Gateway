<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Razorpay Checkout</title>
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
</head>
<body>

<h2>Ready to Pay</h2>

<button id="payBtn">Pay Now</button>

<script th:inline="javascript">
    /*<![CDATA[*/

    const razorpayKey = '[[${razorpayKey}]]';
    const orderId = '[[${orderId}]]';
    const amount = [[${amount}]];

    console.log("KEY:", razorpayKey);
    console.log("ORDER:", orderId);
    console.log("AMOUNT:", amount);

    document.getElementById("payBtn").onclick = function () {

        if (!razorpayKey || !orderId || amount <= 0) {
            alert("Invalid payment data");
            return;
        }

        const options = {
            key: razorpayKey,
            amount: amount,
            currency: "INR",
            name: "Payment Gateway",
            description: "Secure Payment",
            order_id: orderId
        };

        const rzp = new Razorpay(options);
        rzp.open();
    };

    /*]]>*/
</script>

</body>
</html>
